{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { useState } from \"react\";\nimport { Spinner, FormGroup, Label, Input, Button, Table } from \"reactstrap\";\nimport CsvDownload from 'react-json-to-csv';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function UserFetch() {\n  var _useState = useState(''),\n      val = _useState[0],\n      setval = _useState[1];\n\n  var _useState2 = useState(''),\n      data = _useState2[0],\n      setdata = _useState2[1];\n\n  var _useState3 = useState(''),\n      user = _useState3[0],\n      setuser = _useState3[1];\n\n  var _useState4 = useState(false),\n      band = _useState4[0],\n      setBand = _useState4[1];\n\n  var URL = \" \";\n\n  function changeInput(inp) {\n    setdata(inp); //let aux = {query:inp}\n\n    setdata(inp);\n  }\n\n  function changeUser(inp) {\n    setuser(inp); //let aux = {from:inp}\n\n    setuser(inp);\n  }\n\n  function fetchCall(_x) {\n    return _fetchCall.apply(this, arguments);\n  }\n\n  function _fetchCall() {\n    _fetchCall = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(type) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setBand(true);\n\n              if (user !== undefined) {\n                URL = \"http://localhost:9000/userFetch?\";\n                URL = URL + \"query=\".concat(data);\n                URL = URL + \"&from=\".concat(user);\n              }\n\n              _context.next = 4;\n              return fetch(URL, {\n                method: 'get'\n              }).then(function (res) {\n                return res.json();\n              }).then(function (res) {\n                return setval(res);\n              })[\"catch\"](function (e) {\n                return console.log(e);\n              });\n\n            case 4:\n              setBand(false);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _fetchCall.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: \"center\",\n      children: [/*#__PURE__*/_jsx(\"h1\", {\n        children: \"Consulta de Usuario\"\n      }), /*#__PURE__*/_jsxs(\"p\", {\n        children: [\"Consulta asociada a un cojunto de palabras y un usuario especifico \", /*#__PURE__*/_jsx(\"br\", {}), \"se puede realizar consulta de los ultimos tweets referentes a el usuario dejando en blanco el campo de \", /*#__PURE__*/_jsx(\"strong\", {\n          children: \" Valores de Consulta\"\n        })]\n      }), /*#__PURE__*/_jsx(\"form\", {\n        children: /*#__PURE__*/_jsxs(FormGroup, {\n          children: [/*#__PURE__*/_jsxs(Label, {\n            className: \"mt-2\",\n            children: [\" \", /*#__PURE__*/_jsx(\"h5\", {\n              children: \" Valores de Consuta \"\n            }), \" \"]\n          }), /*#__PURE__*/_jsx(Input, {\n            type: \"text\",\n            name: \"inp\",\n            value: data,\n            onChange: function onChange(e) {\n              changeInput(e.target.value);\n            },\n            children: \" \"\n          }), /*#__PURE__*/_jsxs(Label, {\n            className: \"mt-3\",\n            children: [\" \", /*#__PURE__*/_jsx(\"h5\", {\n              children: \" Usuario \"\n            }), \" \"]\n          }), /*#__PURE__*/_jsx(Input, {\n            type: \"text\",\n            name: \"name\",\n            value: user,\n            onChange: function onChange(e) {\n              changeUser(e.target.value);\n            },\n            children: \" \"\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"App\",\n        children: /*#__PURE__*/_jsxs(\"header\", {\n          className: \"App-header\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"buttons\",\n            children: [/*#__PURE__*/_jsx(Button, {\n              disabled: band,\n              onClick: function onClick() {\n                fetchCall(2);\n              },\n              children: \"Buscar\"\n            }), val.data && /*#__PURE__*/_jsx(CsvDownload, {\n              data: val.data,\n              className: \"migButton\",\n              children: \" Migrar\"\n            })]\n          }), val ? /*#__PURE__*/_jsx(_Fragment, {\n            children: /*#__PURE__*/_jsxs(Table, {\n              children: [/*#__PURE__*/_jsx(\"thead\", {\n                children: /*#__PURE__*/_jsxs(\"tr\", {\n                  children: [\" \", /*#__PURE__*/_jsx(\"th\", {\n                    children: \"Tweets\"\n                  }), \" \"]\n                })\n              }), /*#__PURE__*/_jsx(\"tbody\", {\n                children: val.data.map(function (element, index) {\n                  return /*#__PURE__*/_jsxs(\"tr\", {\n                    children: [\" \", /*#__PURE__*/_jsx(\"td\", {\n                      children: element.text\n                    })]\n                  }, index);\n                })\n              })]\n            })\n          }) : /*#__PURE__*/_jsx(_Fragment, {\n            children: band ? /*#__PURE__*/_jsx(Spinner, {\n              children: \"Loading...\"\n            }) : /*#__PURE__*/_jsx(_Fragment, {})\n          })]\n        })\n      })]\n    })\n  });\n}\n;","map":null,"metadata":{},"sourceType":"module"}